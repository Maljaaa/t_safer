<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link th:href="@{/css/login.css}" rel="stylesheet">
	<title>HACCP</title>

</head>
<body>
<div id="wrap">
	<h1>SAFER</h1>
	<div class="signA">
	<div class="ctn">
		<dl>
		<form action="/login" method="post">
			<dt>아이디</dt>
			<dd>
				<input type="email" th:id="userEmail" th:name="username" placeholder="name@example.com">
			</dd>
			<dt>비밀번호</dt>
			<dd>
				<input type="password" th:id="userPassword" th:name="password" placeholder="Password">
			</dd>
			<dt>로그인하기</dt>
			<dd><button type="submit" id="btn_login">로그인</button></dd>
			<p class="text-center mt-4" ><a href="/signup" class="link-secondary">회원가입 하러 가기</a></p>
		</form>
		</dl>
    </div>
	</div><!-- .signA //-->
</div>


</body>
<!--<script>-->
<!--	document.getElementById("btn_login").addEventListener("click", function(event) {-->
<!--		event.preventDefault();-->

<!--		const account = document.getElementById("account").value;-->
<!--		const password = document.getElementById("password").value;-->

<!--		console.log(account);-->
<!--		console.log(password);-->

<!--		fetch("/api/login", {-->
<!--			method: "POST",-->
<!--			headers: {-->
<!--				"Content-Type": "application/json"-->
<!--			},-->
<!--			body: JSON.stringify({-->
<!--				account: account,-->
<!--				password: password-->
<!--			})-->
<!--		})-->
<!--				.then(response => {-->
<!--					if (response.ok) {-->
<!--						return response.json();-->
<!--					} else {-->
<!--						throw new Error("로그인 실패");-->
<!--					}-->
<!--				})-->
<!--				.then(async data => {-->
<!--					// 로그인 성공시 토큰 저장 및 페이지 이동 등 추가 작업 수행-->
<!--					console.log("로그인 성공, 토큰 값 : ", data.token);-->
<!--					localStorage.setItem("token", data.token);-->
<!--					await fetchToMonitor(localStorage.getItem("token"))-->
<!--					location.href = "/monitor";-->
<!--				})-->
<!--				.catch(error => {-->
<!--					console.error("로그인 에러 발생:", error);-->
<!--					alert("로그인에 실패했습니다. 다시 시도해주세요.");-->
<!--				});-->

<!--		async function fetchToMonitor(token) {-->
<!--			fetch("/monitor", {-->
<!--				method: "GET",-->
<!--				headers: {-->
<!--					"Content-Type": "application/json",-->
<!--					"Authorization": "Bearer " + token-->
<!--				},-->
<!--			})-->
<!--					.then(response => {-->
<!--						if (response.ok) {-->
<!--							// location.replace("/monitor");-->
<!--							return;-->
<!--						} else {-->
<!--							throw new Error(`모니터 API 요청에 실패했습니다. 상태 코드: ${response.status}`);-->
<!--						}-->
<!--					});-->

<!--		}-->
<!--	});-->
<!--</script>-->
</html>